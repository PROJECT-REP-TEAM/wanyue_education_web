<!doctype html>
<html lang="en">
<head>
    <title>{$info['name']} {$site_info.site_name|default=''}</title>
    <include file="public@head"/>
    <include file="student/public@head"/>
    <link rel="stylesheet" href="__STATIC__/white/2.8.0.css">
    <link rel="stylesheet" href="__STATIC__/student/css/white.css?t=1591346025">
    <style  type="text/css">
        .layui-layer-tips .layui-layer-content{
            padding: 3px 9px;
        }
        .layui-layer-tips i.layui-layer-TipsG{
            border-left: 0;
        }
    </style>
</head>
<body>
    <div class="body">
        <div class="body_left">
            
            <div class="body_left_top">
                <!-- <div class="body_left_top_fps">网络延迟：<span id="RTT">--</span>ms</div> -->
                <div class="body_left_top_status">
                    <if condition="$info['islive'] eq 0">
                        未开课
                    <elseif condition="$info['islive'] eq 1">
                        已上课
                        <!-- 已上课 <span id="h">00<span>:<span id="m">00</span>:<span id="s">00</span> -->
                    <else/>
                        已下课
                    </if>
                </div>
            </div>
            
            <!--连麦用户展示列表-->
            <div class="linkmic_list">
            </div>
            <!--连麦用户展示列表-->
            <div class="body_left_bottom">
                <div class="body_left_bottom_top">
                    
                    <div class="body_left_bottom_top_top">
                        <if condition=" $info['user_type'] eq 0">
                        <div class="body_left_bottom_top_button">白板</div>
                        <div class="body_left_bottom_top_c" id="caozuo">
                            <a href="javascript:void(0)"><img class="body_left_bottom_top_c_img" style="width: 25px;height: 25px;" data-type="selector" src="__STATIC__/student/images/white/selector.png"></a>
                            <a href="javascript:void(0)"><img class="body_left_bottom_top_c_img" data-type="pencil" src="__STATIC__/student/images/white/pencil.png"></a>  
                            <a href="javascript:void(0)"><img class="body_left_bottom_top_c_img" data-type="rectangle" src="__STATIC__/student/images/white/ju.png"> </a>  
                            <a href="javascript:void(0)"><img class="body_left_bottom_top_c_img" data-type="ellipse" src="__STATIC__/student/images/white/yuan.png"> </a>  
                            <a href="javascript:void(0)"><img class="body_left_bottom_top_c_img" data-type="text" src="__STATIC__/student/images/white/t.png"> </a>  
                            <a href="javascript:void(0)"><img class="body_left_bottom_top_c_img" data-type="eraser" src="__STATIC__/student/images/white/er.png"> </a>  
                            <a href="javascript:void(0)"><img class="body_left_bottom_top_c_img" data-type="choosecolor" src="__STATIC__/student/images/white/xi.png"> </a>  
                            <a href="javascript:void(0)"><img class="body_left_bottom_top_c_img" data-type="fontsize" src="__STATIC__/student/images/white/b.png"> </a>  


                            <a href="javascript:void(0)">
                                <img class="body_left_bottom_top_c_img_file" onclick="selectFileFile()" src="__STATIC__/student/images/white/file.png">
                                <input type="file" id="file_file" value="" onchange="getFilePathFile()" accept=".pptx,.ppt,.pdf,.docx,.doc" style="display: none;" />   
                            </a>  
                            <a href="javascript:void(0)">
                                <img class="body_left_bottom_top_c_img_file" onclick="selectFilePhoto()" src="__STATIC__/student/images/white/photo.png">
                                <input type="file" id="file_photo" value="" onchange="getFilePathPhoto()" style="display: none;" />   
                            </a>  


                            <a href="javascript:void(0)"><img class="body_left_bottom_top_c_img" data-type="del" src="__STATIC__/student/images/white/del.png">  </a>   
                        </div>

                        <div class="white_choosecolor" style="display: none;">
                            <a href="javascript:void(0)" class="white_choosecolor_color" style="background: #169c8e;text-decoration: none;font-size: 13px;" data-color="[22, 156, 142]"></a>
                            <a href="javascript:void(0)" class="white_choosecolor_color" style="background: #34445a;margin-left: 3px;text-decoration: none;font-size: 13px;" data-color="[52, 68, 90]"></a>  
                            <a href="javascript:void(0)" class="white_choosecolor_color" style="background: #f65932;margin-left: 3px;text-decoration: none;font-size: 13px;" data-color="[246, 89, 50]"></a>  
                            <a href="javascript:void(0)" class="white_choosecolor_color" style="background: #33a1f5;margin-left: 3px;text-decoration: none;font-size: 13px;" data-color="[51, 161, 245]"></a>     
                        </div>
                        <div class="white_fontsize" style="display: none;">
                            <a href="javascript:void(0)" class="white_fontsize_size" style="text-decoration: none;font-size: 13px;" data-size="4">4</button>
                            <a href="javascript:void(0)" class="white_fontsize_size" style="margin-left: 3px;text-decoration: none;font-size: 13px;" data-size="5">5</button>  
                            <a href="javascript:void(0)" class="white_fontsize_size" style="margin-left: 3px;text-decoration: none;font-size: 13px;" data-size="6">6</button>  
                            <a href="javascript:void(0)" class="white_fontsize_size" style="margin-left: 3px;text-decoration: none;font-size: 13px;" data-size="7">7</button>     
                            <a href="javascript:void(0)" class="white_fontsize_size" style="margin-left: 3px;text-decoration: none;font-size: 13px;" data-size="8">8</button>  
                            <a href="javascript:void(0)" class="white_fontsize_size" style="margin-left: 3px;text-decoration: none;font-size: 13px;" data-size="9">9</button>    
                            <a href="javascript:void(0)"  class="white_fontsize_size" style="margin-left: 3px;text-decoration: none;font-size: 13px;" data-size="10">10</a>  
                        </div>
                        <div class="body_left_bottom_top_ke" >课件</div>
                        <a href="javascript:void(0)"><img class="body_left_bottom_top_file" src="__STATIC__/student/images/white/ke.png" id="js_ware"></a>
                        </if>
                    </div>
                    
                    <!--白板-->
                    <div id="whiteboard"></div>
                    <!--白板-->
                    <!--共享屏幕画面-->
                    <div id="screen"></div>

                    <!--学生列表-->
                    <div class="student_list">
                        <!--老师端的小班学生列表-->
                        <div class="studentlist">
                            <div class="studentlist_top">
                                学生列表(<span class="studentlist_top_nums"></span>)
                                <img class="studentlist_top_close" src="__STATIC__/student/images/white/list_x.png">
                            </div>
                            <div class="studentlist_bottom">
                                <div class="studentlist_bottom_top">
                                    <div class="studentlist_bottom_top_avatar">头像</div>
                                    <div class="studentlist_bottom_top_name">昵称</div>
                                    <div class="studentlist_bottom_top_status">麦克风</div>
                                    <div class="studentlist_bottom_top_status">摄像头</div>
                                    <div class="studentlist_bottom_top_edit">上台</div>
                                </div>
                                <div class="studentlist_bottom_list hidescroll"></div>
                            </div>
                        </div>
                        <!--老师端的小班学生列表-->
                        
                    </div>
                    <!--学生列表-->
                    <!--课件列表-->
                    <div class="classfile">
                        <div class="classfilen">
                            <div class="classfilen_top">
                                课件
                                <img class="classfilen_top_close" src="__STATIC__/student/images/white/list_x.png">
                            </div>
                            <div class="classfilen_bottom">
                                <div class="classfilen_bottom_top">
                                    <div class="classfilen_bottom_top_avatar">文件名称</div>
                                    <div class="classfilen_bottom_top_name">大小</div>
                                    <div class="classfilen_bottom_top_edit">操作</div>
                                </div>

                                <div class="classfilen_bottom_list">
                                    <!-- <div class="classfilen_bottom_list_li">
                                        <div class="classfilen_bottom_list_li_avatar">名称</div>
                                        <div class="classfilen_bottom_list_li_name">大小</div>
                                        <div class="classfilen_bottom_list_li_edit">
                                            <a style="color:#38DAA6" href="1" target="_blank"><span data-url="1" data-name="1" class="classfilen_bottom_list_li_edit_forwords">打开</span></a>
                                            
                                            <a style="color:#38DAA6" href="javascript:void(0)"><span data-id="1" class="classfilen_bottom_list_li_edit_ticket">删除</span></a>
                                        </div>
                                    </div> -->
                                </div>

                            </div>
                        </div>
                    </div>
                    <!--课件列表-->

                    <!--课堂测试按钮-->
                    <img class="test_button display_none" src="__STATIC__/student/images/white/test.png">
                    <!--课堂测试按钮-->

                </div>
                 
                <div class="body_left_bottom_bottom">
                    
                    <div class="body_left_bottom_bottom_cao">                        
                        <div class="btn_img">
                            <img class="body_left_bottom_bottom_hand" src="__STATIC__/student/images/white/hand.png">
                            <img class="body_left_bottom_bottom_hand1 hide" src="__STATIC__/student/images/white/hand1.png">
                            <img class="body_left_bottom_bottom_hand2 hide" src="__STATIC__/student/images/white/hand2.png">


                            <img class="body_left_bottom_bottom_list1 js_student_btn" src="__STATIC__/student/images/white/studentlist1.png">
                        
                            <img class="body_left_bottom_bottom_list2 hide" src="__STATIC__/student/images/white/studentlist2.png">
                            


                        </div>
                        
                    </div>
                </div>
            </div>
        </div>

        <div class="body_right">
            <div class="body_right_video" id="local_stream">
                <div class="body_right_video_bg"></div>
                <div class="body_right_video_tips">讲师</div>
                <div class="body_right_video_wait">
                    等待上课...
                </div>
                <div class="body_right_video_caozuo" style="display: none;">
                    <img class="body_right_video_mai_open" src="__STATIC__/student/images/white/maiopen.png">
                    <img class="body_right_video_mai_close" src="__STATIC__/student/images/white/maiclose.png">
                    <img class="body_right_video_video_open" src="__STATIC__/student/images/white/videoopen.png">
                    <img class="body_right_video_video_close" src="__STATIC__/student/images/white/videoclose.png">
                </div>
            </div>

            <div class="practice_wait_top display_none">
                <img class="practice_wait_top_close" src="__STATIC__/student/images/white/close_white.png">
                <div class="practice_wait_top_content">
                    <div class="practice_wait_top_content_top">
                        <span class="practice_wait_top_content_top_fen">0</span>
                        <span class="practice_wait_top_content_top_text">分</span>
                    </div>
                    <div class="practice_wait_top_content_heng"></div>
                    <div class="practice_wait_top_content_total"></div>
                </div>
                <div class="practice_wait_top_tips">排名计算中，请耐心等待...</div>
            </div>
            <div class="body_right_speak_tips">
                <div class="body_right_speak_tips_msg">
                    <span class="body_right_speak_tips_talk msg_active">交流</span>
                    <span class="body_right_speak_tips_question">提问</span>
                </div>
                <div class="body_right_speak_tips_test display_none">
                    <span>随堂测试</span>
                    <img class="body_right_speak_tips_test_close" src="__STATIC__/student/images/white/list_x.png">
                </div>
                <div class="body_right_speak_tips_practice display_none">
                    <span>课堂练习（<span class="body_right_speak_tips_practice_time">9分58秒</span>）</span>
                    <img class="body_right_speak_tips_practice_close" src="__STATIC__/student/images/white/list_x.png">
                </div>
                <div class="body_right_speak_tips_practice_wait display_none">
                    <div class="body_right_speak_tips_practice_wait_li body_right_test_practice_tian_text_ok">
                        练习答案
                        <div class="body_right_speak_tips_practice_wait_li_heng"></div>
                    </div>
                    <div class="body_right_speak_tips_practice_wait_li">
                        成绩排名
                        <div class="body_right_speak_tips_practice_wait_li_heng display_none"></div>
                    </div>
                </div>
            </div>
            <!--聊天区域-->
            <div class="body_right_speak"></div>
             <!--聊天区域-->
            <!--提问区域-->
            <div class="body_right_question display_none"></div>
            <!--提问区域-->

            <!--答题区域-->
            <div class="body_right_test display_none">
                <div class="body_right_test_x display_none">
                    <div class="body_right_test_x_img">
                        <img class="body_right_test_x_status display_none" src="__STATIC__/student/images/white/ok.png">
                        <img class="body_right_test_x_status display_none" src="__STATIC__/student/images/white/err.png">
                    </div>

                    <div class="body_right_test_x_answer">
                        <!-- <span class="body_right_test_x_e">A</span> -->
                    </div>
                </div>

                <div class="body_right_test_p display_none">
                    <div class="body_right_test_x_img">
                        <img class="body_right_test_p_status display_none" src="__STATIC__/student/images/white/ok.png">
                        <img class="body_right_test_p_status display_none" src="__STATIC__/student/images/white/err.png">
                    </div>

                    <div class="body_right_test_p_answer">
                    </div>
                </div>

                <div class="body_right_test_practice display_none"></div>

            </div>
            <!--答题区域-->

            <div class="body_right_send" id="send_msg">
                <input class="body_right_send_msg" name="msg" type="text" placeholder="请输入内容" />
                <button class="body_right_send_button"><a style="color: #fff;"  href="javascript:void(0)">发送</a></button>
            </div>

            <div class="body_right_send display_none" id="send_question">
                <input class="body_right_send_msg" name="msg" type="text" placeholder="请输入问题" />
                <button class="body_right_send_button"><a style="color: #fff;"  href="javascript:void(0)">发送</a></button>
            </div>

            <!--提交答题-->
            <div class="body_right_send display_none" id="send_test">
                <button class="body_right_send_test">提交</button>
            </div>
            <!--提交答题-->
        </div>
    </div>
    
    <div class="ppt_preview">
        <div class="ppt_preview_t">
            <div class="ppt_preview_t_t">预览</div>
            <div class="ppt_preview_t_c">X</div>
        </div>
        <div class="ppt_preview_m">
            <ul>
            </ul>
        </div>
        <div class="ppt_preview_b"></div>
    </div>

    <!--抢答-->
    <div class="rob_body display_none"></div>
    <!--抢答-->

    
    <!--懂不懂-->
    <div class="know_body display_none">
        <div class="know_body_content">
            <div class="know_body_content_top">
                <div class="know_body_content_top_text">懂了没？</div>
            </div>
            <div class="know_body_content_middle">
                老师刚才讲的内容有没有听懂？
            </div>
            <div class="know_body_content_bottom">
                <button class="know_body_content_bottom_ok">懂了</button>
                <button class="know_body_content_bottom_no">没懂</button>
            </div>

        </div>
    </div>
    <!--懂不懂-->

    <!--表扬-->
    <div class="praise_body display_none">
        <div class="praise_body_content">
            <img class="praise_body_content_img" src="__STATIC__/student/images/white/praise.png">
            <div class="praise_body_content_text">老师表扬了 <span class="praise_body_content_text_name">马赛克</span> 同学!</div>
            <img class="praise_body_content_close" src="__STATIC__/student/images/white/praise_close.png">

        </div>
    </div>
    <!--表扬-->

    <include file="student/public@equipment"/>
    <include file="student/public@question"/>
</body>
<include file="student/public@scripts"/>
<script type="text/javascript" src="__STATIC__/white/2.8.0.js"></script>
<script type="text/javascript" src="__STATIC__/agora/AgoraRTCSDK-3.0.1.js"></script>
<script src="__STATIC__/emoji/emoji.js?t=1587286398"></script>
<script type="text/javascript" src="__STATIC__/js/socket.io.js"></script>
<script>
    var rtc = {
        client: null, //上课房间初始化
        client_screen: null, //共享屏幕房间初始化
        joined: false, //是否进入上课房间
        joined_screen: false, //是否进入共享屏幕房间
        published: false, //是否推上课流
        published_screen: false, //是否推共享流
        localStream: null, //本地流
        localStream_screen: null, //共享流
        remoteStreams: [], //所有的上课异地流
        remoteStreams_screen: [], //所有的共享异地流
        params: {}, //上课用户信息
        params_screen: {}, //共享用户信息
    };

    //声网的一些信息
    var option = {
        appID: "{$info['sound_appid']}", //声网appid
        channel: "{$info['stream']}", //上课房间id，区分房间的唯一id
        channel_screen: 999999999, //共享房间id，区分房间的唯一id
        uid: "{$userinfo['id']}", //上课房间uid，用于推流的streamID
        uid_screen: 0, //共享房间uid，用于推流的streamID
        token: null
    }
    
    var _DATA = {};
    _DATA.userinfo={$userinfoj};//用户信息
    _DATA.roominfo={$infoj};//房间信息
    _DATA.teacherinfo={$teacherinfoj};//老师信息
	
    var whiteroom={}; //进入的白板房间
    var whiteinfo={}; //白板教具信息

    var RTTyan=''; //网络延迟定时器
    var classIntavl=''; //课堂定时器
    
    var ismuteAudio=false; //是否关麦
    var ismuteVideo=false; //是否关摄像头

    var laytips='';
    var laytipsfile='';
    
    var whiteWebSdk=''; //白板实例化
    
    var courseid='{$info['courseid']}';
    var lessonid='{$info['lessonid']}';
    var stream='{$info['stream']}';
    var socket = new io("{$info['chatserver']}");


    var select_listj = {$select_listj};//
    var type_listj = {$type_listj};//
    var pan_listj = {$pan_listj};//
    var exam_info={};//随堂测验
    var practiceInfo = {};//课堂练习答题卡
    var practiceInvter = null;//课堂练习定时
    var practiceInfoOver = {};//课堂练习成绩
    var practiceList = {};//课堂练习学生排名
    var robnums = 0;//抢答的人数
</script>
<script src="__STATIC__/student/js/event_white.js?t=1590716666"></script>
<script src="__STATIC__/student/js/eventListen.js"></script>
<script type="text/javascript" src="__STATIC__/student/js/white.js?t=1591409719"></script>

</html> 

